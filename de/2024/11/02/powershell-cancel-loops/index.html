<!doctype html><html lang=de dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PowerShell: Schleifen gezielt abbrechen/überspringen | diecknet</title>
<meta name=keywords content="powershell"><meta name=description content="Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende while-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens $Variable kleiner oder gleich 10 ist.
1 2 3 while($Variable -le 10) { # irgendwas } Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt."><meta name=author content="Andreas Dieckmann"><link rel=canonical href=https://diecknet.de/de/2024/11/02/powershell-cancel-loops/><link crossorigin=anonymous href=/assets/css/stylesheet.75a517428f403193483801122d6350f6956c3bb6bf5c6504311f8c24e6bab3e7.css integrity="sha256-daUXQo9AMZNIOAESLWNQ9pVsO7a/XGUEMR+MJOa6s+c=" rel="preload stylesheet" as=style><link rel=icon href=https://diecknet.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://diecknet.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://diecknet.de/favicon-32x32.png><link rel=apple-touch-icon href=https://diecknet.de/apple-touch-icon.png><link rel=mask-icon href=https://diecknet.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=de href=https://diecknet.de/de/2024/11/02/powershell-cancel-loops/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="PowerShell: Schleifen gezielt abbrechen/überspringen"><meta property="og:description" content="Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende while-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens $Variable kleiner oder gleich 10 ist.
1 2 3 while($Variable -le 10) { # irgendwas } Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt."><meta property="og:type" content="article"><meta property="og:url" content="https://diecknet.de/de/2024/11/02/powershell-cancel-loops/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-02T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-02T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="PowerShell: Schleifen gezielt abbrechen/überspringen"><meta name=twitter:description content="Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende while-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens $Variable kleiner oder gleich 10 ist.
1 2 3 while($Variable -le 10) { # irgendwas } Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://diecknet.de/de/posts/"},{"@type":"ListItem","position":2,"name":"PowerShell: Schleifen gezielt abbrechen/überspringen","item":"https://diecknet.de/de/2024/11/02/powershell-cancel-loops/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PowerShell: Schleifen gezielt abbrechen/überspringen","name":"PowerShell: Schleifen gezielt abbrechen\/überspringen","description":"Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende while-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens $Variable kleiner oder gleich 10 ist.\n1 2 3 while($Variable -le 10) { # irgendwas } Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt.","keywords":["powershell"],"articleBody":"Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende while-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens $Variable kleiner oder gleich 10 ist.\n1 2 3 while($Variable -le 10) { # irgendwas } Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt.\nGrundlagen zum Schleifen abbrechen/überspringen Hier nochmal die Grundlagen zum Schleifen abbrechen beziehungsweise zum überspringen eines Schleifendurchgangs.\nSchleifendurchgang überspringen mit continue Grundsätzlich geht das Überspringen eines Schleifendurchgangs mit dem Befehl continue - das funktioniert bei allen gängigen Schleifentypen. Ich habe hier zum Beispiel eine einfache For-Schleife die von 0 bis 10 hochzählt und jeweils die aktuelle Zahl ausgibt.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 for($i = 0; $i -le 10; $i++) { $i } \u003c# Rückgabe: 0 1 2 3 4 5 6 7 8 9 10 #\u003e Mit continue könnte ich jetzt einen Schleifendurchgang abbrechen. Und normalerweise sollte man so etwas an eine bestimmte Bedingung knüpfen, z.B. mache ich das jetzt mit einer If-Abfrage, wenn mein Zähler bei 5 steht.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 for($i = 0; $i -le 10; $i++) { if($i -eq 5) { continue } $i } \u003c# Rückgabe: 0 1 2 3 4 6 7 8 9 10 #\u003e In der Ausgabe fehlt jetzt im Vergleich zur vorherigen Variante die Ausgabe der Zahl 5. Denn bevor die Zeile für die Ausgabe ausgeführt werden konnte, wurde der continue Befehl ausgeführt. Der sorgt dafür, dass der aktuelle Schleifendurchgang abgebrochen wird, und der nächste Schleifendurchgang ausgeführt wird. Wenn kein weiterer Schleifendurchgang folgen würde, dann wird durch continue aber kein zusätzlicher Durchgang erzwungen. Die Bedingung der Schleife wird trotzdem weiterhin ausgewertet und beachtet.\nSchleife abbrechen mit break Außerdem gibt es die Möglichkeit, nicht nur einen Schleifendurchgang abzubrechen, sondern die gesamte Schleife. Das geht mit dem break Befehl. Auch der funktioniert bei allen gängigen Schleifentypen. Und genau so wie auch der continue Befehl, sollte der break Befehl vorzugsweise an eine bestimmte Bedingung geknüpft werden.\n1 2 3 4 5 6 for($i = 0; $i -le 10; $i++) { if($i -eq 5) { break } $i } Hier wird jetzt, wenn die Variable $i den Wert 5 hat, der break Befehl ausgeführt. Das sorgt dafür, dass wir die Schleife sofort beenden. Im Ergebnis wird hier also nur von 0 bis 4 gezählt.\nVerschachtelte Schleifen Wenn wir mehrere Schleifen verschachteln, dann beziehen sich break und continue immer auf die aktuelle Schleife. Hier habe ich zum Beispiel zwei Schleifen:\n1 2 3 4 5 6 7 8 9 10 11 12 13 $AlleOrdner = Get-ChildItem testdir\\ -Directory foreach($DieserOrdner in $AlleOrdner) { Write-Host \"--- $($DieserOrdner.Name) ---\" -ForegroundColor DarkGreen $Dateien = Get-ChildItem $DieserOrdner.FullName -File foreach($DieseDatei in $Dateien) { if($DieseDatei.Length -ge 1KB) { Write-Host \"Die Datei $($DieseDatei.Name) ist größer oder gleich 1 KB - Überspringe Schleifendurchgang\" -ForegroundColor Red continue } Write-Host \"Inhalt von $($DieseDatei.Name): $(Get-Content $DieseDatei.FullName)\" -ForegroundColor Yellow } } Erstmal werden alle Ordner im aktuellen Verzeichnis durchgegangen, und dann werden jeweils alle Dateien in dem jeweiligen Ordner durchgegangen. Als einfaches Beispiel wird hier immer der Inhalt der Dateien ausgegeben, es sei denn, dass die Datei größer als 1 Kilobyte ist. In diesem Fall wird stattdessen ein Hinweis ausgegeben und per continue in den nächsten Schleifendurchgang gesprungen (also in den nächsten Schleifendurchgang der inneren ForEach Schleife, die die Dateien durchgeht). Und wenn ich hier continue durch break ersetzen würde, dann würde diese innere Schleife komplett abgebrochen werden, also die Prüfung aller Dateien im aktuellen Ordner wird abgebrochen.\n1 2 3 4 5 6 7 8 9 10 11 12 13 $AlleOrdner = Get-ChildItem testdir\\ -Directory foreach($DieserOrdner in $AlleOrdner) { Write-Host \"--- $($DieserOrdner.Name) ---\" -ForegroundColor DarkGreen $Dateien = Get-ChildItem $DieserOrdner.FullName -File foreach($DieseDatei in $Dateien) { if($DieseDatei.Length -ge 1KB) { Write-Host \"Die Datei $($DieseDatei.Name) ist größer oder gleich 1 KB - Überspringe Schleifendurchgang\" -ForegroundColor Red break } Write-Host \"Inhalt von $($DieseDatei.Name): $(Get-Content $DieseDatei.FullName)\" -ForegroundColor Yellow } } Oftmals reicht das aus, um Schleifen zusätzlich zum normalen Bedingungsblock steuern.\nVerschachtelte Schleifen ansteuern mit “Labels” Aber manchmal ist es auch notwendig, in einer inneren Schleife, also tiefer verschachtelt ein Überspringen eines weiter außenliegenden Schleifendurchgangs anzustoßen oder vielleicht sogar eine komplette Schleife abzubrechen. Dafür können wir Label verwenden, also Beschriftungen für unsere Schleifen. Und das funktioniert auch wieder bei allen gängigen Schleifentypen.\nUm eine Schleife zu labeln müssen wir einfach vor den Schleifenbefehl : und dann einen frei wählbaren Namen schreiben - und dann noch ein Leerzeichen vor den eigentlichen Schleifenbefehl. Zum Beispiel :Ordner für meine äußere Ordner-Schleife und :Datei für meine innere Datei-Schleife. Wenn ich jetzt in meiner inneren Schleife die äußere Schleife mit break oder continue ansprechen möchte, dann muss ich einfach nur hinter break oder continue ein Leerzeichen hängen und dann das Label der gewünschten Schleife. Hier jetzt aber ohne die Doppelpunkte.\n1 2 3 4 5 6 7 8 9 10 11 12 13 $AlleOrdner = Get-ChildItem testdir\\ -Directory :Ordner foreach($DieserOrdner in $AlleOrdner) { Write-Host \"--- $($DieserOrdner.Name) ---\" -ForegroundColor DarkGreen $Dateien = Get-ChildItem $DieserOrdner.FullName -File :Datei foreach($DieseDatei in $Dateien) { if($DieseDatei.Length -ge 1KB) { Write-Host \"Die Datei $($DieseDatei.Name) ist größer oder gleich 1 KB - Breche Ordner-Schleife ab\" -ForegroundColor Red break Ordner } Write-Host \"Inhalt von $($DieseDatei.Name): $(Get-Content $DieseDatei.FullName)\" -ForegroundColor Yellow } } Als Ergebnis wird hier der übergeordnete Vorgang (das Durchlaufen der Ordner) abgebrochen, wenn eine Datei mit mehr als 1KB Größe gefunden wird.\nIch hätte jetzt die innere Schleife auch nicht unbedingt labeln müssen, aber ich find es so besser lesbar. Und das funktioniert natürlich auch bei tieferen Verschachtelungen als nur zwei Schleifen. Hauptsache ihr habt die Schleife gelabelt, die ihr von weiter innen aus ansprechen wollt.\nFazit Mein Fazit zu den gelabelten Schleifen, um break und continue gezielt einsetzen zu können: Ich find’s cool und praktisch. Einige Szenarien lassen sich so viel effizienter lösen, oder überhaupt erst lösen. Aber wie so oft, wird der Code dadurch natürlich auch wieder etwas komplexer.\n","wordCount":"1013","inLanguage":"de","datePublished":"2024-11-02T00:00:00Z","dateModified":"2024-11-02T00:00:00Z","author":{"@type":"Person","name":"Andreas Dieckmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://diecknet.de/de/2024/11/02/powershell-cancel-loops/"},"publisher":{"@type":"Organization","name":"diecknet","logo":{"@type":"ImageObject","url":"https://diecknet.de/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://diecknet.de/de/ accesskey=h title="diecknet (Alt + H)">diecknet</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://diecknet.de/de/ title=Deutsch aria-label=Deutsch><b>Deutsch</b></a></li><li><a href=https://diecknet.de/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://diecknet.de/de/ title=Home><span>Home</span></a></li><li><a href=https://diecknet.de/de/services/ title=Services><span>Services</span></a></li><li><a href=https://diecknet.de/de/about/ title=About><span>About</span></a></li><li><a href=https://diecknet.de/de/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://diecknet.de/de/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://diecknet.de/de/>Home</a>&nbsp;»&nbsp;<a href=https://diecknet.de/de/posts/>Posts</a></div><h1 class=post-title>PowerShell: Schleifen gezielt abbrechen/überspringen</h1><div class=post-meta><span title='2024-11-02 00:00:00 +0000 UTC'>2024-11-02</span>&nbsp;·&nbsp;5 Minuten&nbsp;·&nbsp;Andreas Dieckmann&nbsp;|&nbsp;<a href=https://github.com/diecknet/diecknet-blog/tree/main/content/de/posts/2024/2024-11-02-PowerShell-Cancel-Loops.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Inhaltsverzeichnis</span></summary><div class=inner><ul><li><a href=#grundlagen-zum-schleifen-abbrechen%c3%bcberspringen aria-label="Grundlagen zum Schleifen abbrechen/überspringen">Grundlagen zum Schleifen abbrechen/überspringen</a><ul><li><a href=#schleifendurchgang-%c3%bcberspringen-mit-continue aria-label="Schleifendurchgang überspringen mit continue">Schleifendurchgang überspringen mit <code>continue</code></a></li><li><a href=#schleife-abbrechen-mit-break aria-label="Schleife abbrechen mit break">Schleife abbrechen mit <code>break</code></a></li></ul></li><li><a href=#verschachtelte-schleifen aria-label="Verschachtelte Schleifen">Verschachtelte Schleifen</a><ul><li><a href=#verschachtelte-schleifen-ansteuern-mit-labels aria-label="Verschachtelte Schleifen ansteuern mit &amp;ldquo;Labels&amp;rdquo;">Verschachtelte Schleifen ansteuern mit &ldquo;Labels&rdquo;</a></li></ul></li><li><a href=#fazit aria-label=Fazit>Fazit</a></li></ul></div></details></div><div class=post-content><p>Normalerweise wird eine Schleife in PowerShell solange ausgeführt, wie es durch den außen stehenden Bedingungsblock definiert ist. Die folgende <code>while</code>-Schleife wird zum Beispiel so lange ausgeführt, wie die Variable namens <code>$Variable</code> kleiner oder gleich <code>10</code> ist.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#fc5fa3>while</span>(<span style=color:#41a1c0>$Variable</span> -le <span style=color:#d0bf69>10</span>) {
</span></span><span style=display:flex><span>    <span style=color:#6c7986># irgendwas</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Es ist aber auch möglich gezielt eine komplette Schleife vorzeitig abzubrechen oder einen einzelnen Schleifendurchgang abzubrechen. Und zwar auch, wenn ihr mehrere Schleifen ineinander verschachtelt habt.</p><h2 id=grundlagen-zum-schleifen-abbrechenüberspringen>Grundlagen zum Schleifen abbrechen/überspringen<a hidden class=anchor aria-hidden=true href=#grundlagen-zum-schleifen-abbrechenüberspringen>#</a></h2><p>Hier nochmal die Grundlagen zum Schleifen abbrechen beziehungsweise zum überspringen eines Schleifendurchgangs.</p><h3 id=schleifendurchgang-überspringen-mit-continue>Schleifendurchgang überspringen mit <code>continue</code><a hidden class=anchor aria-hidden=true href=#schleifendurchgang-überspringen-mit-continue>#</a></h3><p>Grundsätzlich geht das Überspringen eines Schleifendurchgangs mit dem Befehl <code>continue</code> - das funktioniert bei allen gängigen Schleifentypen.
Ich habe hier zum Beispiel eine einfache <code>For</code>-Schleife die von 0 bis 10 hochzählt und jeweils die aktuelle Zahl ausgibt.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#fc5fa3>for</span>(<span style=color:#41a1c0>$i</span> = <span style=color:#d0bf69>0</span>; <span style=color:#41a1c0>$i</span> -le <span style=color:#d0bf69>10</span>; <span style=color:#41a1c0>$i</span>++) {
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$i</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#6c7986>&lt;# Rückgabe:
</span></span></span><span style=display:flex><span><span style=color:#6c7986>0
</span></span></span><span style=display:flex><span><span style=color:#6c7986>1
</span></span></span><span style=display:flex><span><span style=color:#6c7986>2
</span></span></span><span style=display:flex><span><span style=color:#6c7986>3
</span></span></span><span style=display:flex><span><span style=color:#6c7986>4
</span></span></span><span style=display:flex><span><span style=color:#6c7986>5
</span></span></span><span style=display:flex><span><span style=color:#6c7986>6
</span></span></span><span style=display:flex><span><span style=color:#6c7986>7
</span></span></span><span style=display:flex><span><span style=color:#6c7986>8
</span></span></span><span style=display:flex><span><span style=color:#6c7986>9
</span></span></span><span style=display:flex><span><span style=color:#6c7986>10
</span></span></span><span style=display:flex><span><span style=color:#6c7986>#&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Mit <code>continue</code> könnte ich jetzt einen Schleifendurchgang abbrechen. Und normalerweise sollte man so etwas an eine bestimmte Bedingung knüpfen, z.B. mache ich das jetzt mit einer <code>If</code>-Abfrage, wenn mein Zähler bei 5 steht.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#fc5fa3>for</span>(<span style=color:#41a1c0>$i</span> = <span style=color:#d0bf69>0</span>; <span style=color:#41a1c0>$i</span> -le <span style=color:#d0bf69>10</span>; <span style=color:#41a1c0>$i</span>++) {
</span></span><span style=display:flex><span>    <span style=color:#fc5fa3>if</span>(<span style=color:#41a1c0>$i</span> -eq <span style=color:#d0bf69>5</span>) {
</span></span><span style=display:flex><span>        <span style=color:#fc5fa3>continue</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$i</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6c7986>&lt;# Rückgabe:
</span></span></span><span style=display:flex><span><span style=color:#6c7986>0
</span></span></span><span style=display:flex><span><span style=color:#6c7986>1
</span></span></span><span style=display:flex><span><span style=color:#6c7986>2
</span></span></span><span style=display:flex><span><span style=color:#6c7986>3
</span></span></span><span style=display:flex;background-color:#353539><span><span style=color:#6c7986>4
</span></span></span><span style=display:flex;background-color:#353539><span><span style=color:#6c7986>6
</span></span></span><span style=display:flex><span><span style=color:#6c7986>7
</span></span></span><span style=display:flex><span><span style=color:#6c7986>8
</span></span></span><span style=display:flex><span><span style=color:#6c7986>9
</span></span></span><span style=display:flex><span><span style=color:#6c7986>10
</span></span></span><span style=display:flex><span><span style=color:#6c7986>#&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>In der Ausgabe fehlt jetzt im Vergleich zur vorherigen Variante die Ausgabe der Zahl 5. Denn bevor die Zeile für die Ausgabe ausgeführt werden konnte, wurde der <code>continue</code> Befehl ausgeführt. Der sorgt dafür, dass der aktuelle Schleifendurchgang abgebrochen wird, und der nächste Schleifendurchgang ausgeführt wird.
Wenn kein weiterer Schleifendurchgang folgen würde, dann wird durch <code>continue</code> aber <strong>kein</strong> zusätzlicher Durchgang erzwungen. Die Bedingung der Schleife wird trotzdem weiterhin ausgewertet und beachtet.</p><h3 id=schleife-abbrechen-mit-break>Schleife abbrechen mit <code>break</code><a hidden class=anchor aria-hidden=true href=#schleife-abbrechen-mit-break>#</a></h3><p>Außerdem gibt es die Möglichkeit, nicht nur <em>einen</em> Schleifen<em>durchgang</em> abzubrechen, sondern die gesamte Schleife. Das geht mit dem <code>break</code> Befehl. Auch der funktioniert bei allen gängigen Schleifentypen. Und genau so wie auch der <code>continue</code> Befehl, sollte der <code>break</code> Befehl vorzugsweise an eine bestimmte Bedingung geknüpft werden.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#fc5fa3>for</span>(<span style=color:#41a1c0>$i</span> = <span style=color:#d0bf69>0</span>; <span style=color:#41a1c0>$i</span> -le <span style=color:#d0bf69>10</span>; <span style=color:#41a1c0>$i</span>++) {
</span></span><span style=display:flex><span>    <span style=color:#fc5fa3>if</span>(<span style=color:#41a1c0>$i</span> -eq <span style=color:#d0bf69>5</span>) {
</span></span><span style=display:flex><span>        <span style=color:#fc5fa3>break</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$i</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Hier wird jetzt, wenn die Variable <code>$i</code> den Wert <code>5</code> hat, der <code>break</code> Befehl ausgeführt. Das sorgt dafür, dass wir die Schleife sofort beenden. Im Ergebnis wird hier also nur von <code>0</code> bis <code>4</code> gezählt.</p><h2 id=verschachtelte-schleifen>Verschachtelte Schleifen<a hidden class=anchor aria-hidden=true href=#verschachtelte-schleifen>#</a></h2><p>Wenn wir mehrere Schleifen verschachteln, dann beziehen sich <code>break</code> und <code>continue</code> immer auf die aktuelle Schleife. Hier habe ich zum Beispiel zwei Schleifen:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#41a1c0>$AlleOrdner</span> = <span style=color:#d0a8ff>Get-ChildItem</span> testdir\ -Directory
</span></span><span style=display:flex><span><span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieserOrdner</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$AlleOrdner</span>) {
</span></span><span style=display:flex><span>    <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;--- </span>$(<span style=color:#41a1c0>$DieserOrdner</span>.Name)<span style=color:#fc6a5d> ---&#34;</span> -ForegroundColor DarkGreen
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$Dateien</span> = <span style=color:#d0a8ff>Get-ChildItem</span> <span style=color:#41a1c0>$DieserOrdner</span>.FullName -File
</span></span><span style=display:flex><span>    <span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieseDatei</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$Dateien</span>) {
</span></span><span style=display:flex><span>        <span style=color:#fc5fa3>if</span>(<span style=color:#41a1c0>$DieseDatei</span>.Length -ge <span style=color:#d0bf69>1</span>KB) {
</span></span><span style=display:flex><span>            <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Die Datei </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d> ist größer oder gleich 1 KB - Überspringe Schleifendurchgang&#34;</span> -ForegroundColor Red
</span></span><span style=display:flex;background-color:#353539><span>            <span style=color:#fc5fa3>continue</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Inhalt von </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d>: </span>$(<span style=color:#d0a8ff>Get-Content</span> <span style=color:#41a1c0>$DieseDatei</span>.FullName)<span style=color:#fc6a5d>&#34;</span> -ForegroundColor Yellow
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Erstmal werden alle Ordner im aktuellen Verzeichnis durchgegangen, und dann werden jeweils alle Dateien in dem jeweiligen Ordner durchgegangen. Als einfaches Beispiel wird hier immer der Inhalt der Dateien ausgegeben, es sei denn, dass die Datei größer als <code>1</code> Kilobyte ist. In diesem Fall wird stattdessen ein Hinweis ausgegeben und per <code>continue</code> in den nächsten Schleifendurchgang gesprungen (also in den nächsten Schleifendurchgang der inneren <code>ForEach</code> Schleife, die die Dateien durchgeht).
Und wenn ich hier <code>continue</code> durch <code>break</code> ersetzen würde, dann würde diese innere Schleife komplett abgebrochen werden, also die Prüfung aller Dateien im aktuellen Ordner wird abgebrochen.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#41a1c0>$AlleOrdner</span> = <span style=color:#d0a8ff>Get-ChildItem</span> testdir\ -Directory
</span></span><span style=display:flex><span><span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieserOrdner</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$AlleOrdner</span>) {
</span></span><span style=display:flex><span>    <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;--- </span>$(<span style=color:#41a1c0>$DieserOrdner</span>.Name)<span style=color:#fc6a5d> ---&#34;</span> -ForegroundColor DarkGreen
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$Dateien</span> = <span style=color:#d0a8ff>Get-ChildItem</span> <span style=color:#41a1c0>$DieserOrdner</span>.FullName -File
</span></span><span style=display:flex><span>    <span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieseDatei</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$Dateien</span>) {
</span></span><span style=display:flex><span>        <span style=color:#fc5fa3>if</span>(<span style=color:#41a1c0>$DieseDatei</span>.Length -ge <span style=color:#d0bf69>1</span>KB) {
</span></span><span style=display:flex><span>            <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Die Datei </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d> ist größer oder gleich 1 KB - Überspringe Schleifendurchgang&#34;</span> -ForegroundColor Red
</span></span><span style=display:flex;background-color:#353539><span>            <span style=color:#fc5fa3>break</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Inhalt von </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d>: </span>$(<span style=color:#d0a8ff>Get-Content</span> <span style=color:#41a1c0>$DieseDatei</span>.FullName)<span style=color:#fc6a5d>&#34;</span> -ForegroundColor Yellow
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Oftmals reicht das aus, um Schleifen zusätzlich zum normalen Bedingungsblock steuern.</p><h3 id=verschachtelte-schleifen-ansteuern-mit-labels>Verschachtelte Schleifen ansteuern mit &ldquo;Labels&rdquo;<a hidden class=anchor aria-hidden=true href=#verschachtelte-schleifen-ansteuern-mit-labels>#</a></h3><p>Aber manchmal ist es auch notwendig, in einer inneren Schleife, also tiefer verschachtelt ein Überspringen eines weiter außenliegenden Schleifendurchgangs anzustoßen oder vielleicht sogar eine komplette Schleife abzubrechen.
Dafür können wir Label verwenden, also Beschriftungen für unsere Schleifen. Und das funktioniert auch wieder bei allen gängigen Schleifentypen.</p><p>Um eine Schleife zu labeln müssen wir einfach vor den Schleifenbefehl <code>:</code> und dann einen frei wählbaren Namen schreiben - und dann noch ein Leerzeichen vor den eigentlichen Schleifenbefehl. Zum Beispiel <code>:Ordner</code> für meine äußere Ordner-Schleife und <code>:Datei</code> für meine innere Datei-Schleife.
Wenn ich jetzt in meiner inneren Schleife die äußere Schleife mit <code>break</code> oder <code>continue</code> ansprechen möchte, dann muss ich einfach nur hinter <code>break</code> oder <code>continue</code> ein Leerzeichen hängen und dann das Label der gewünschten Schleife. Hier jetzt aber ohne die Doppelpunkte.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style=background-color:#353539><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span></span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#41a1c0>$AlleOrdner</span> = <span style=color:#d0a8ff>Get-ChildItem</span> testdir\ -Directory
</span></span><span style=display:flex;background-color:#353539><span><span style=color:#960050>:</span>Ordner <span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieserOrdner</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$AlleOrdner</span>) {
</span></span><span style=display:flex><span>    <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;--- </span>$(<span style=color:#41a1c0>$DieserOrdner</span>.Name)<span style=color:#fc6a5d> ---&#34;</span> -ForegroundColor DarkGreen
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$Dateien</span> = <span style=color:#d0a8ff>Get-ChildItem</span> <span style=color:#41a1c0>$DieserOrdner</span>.FullName -File
</span></span><span style=display:flex;background-color:#353539><span>    <span style=color:#960050>:</span>Datei <span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$DieseDatei</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$Dateien</span>) {
</span></span><span style=display:flex><span>        <span style=color:#fc5fa3>if</span>(<span style=color:#41a1c0>$DieseDatei</span>.Length -ge <span style=color:#d0bf69>1</span>KB) {
</span></span><span style=display:flex><span>            <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Die Datei </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d> ist größer oder gleich 1 KB - Breche Ordner-Schleife ab&#34;</span> -ForegroundColor Red
</span></span><span style=display:flex;background-color:#353539><span>            <span style=color:#fc5fa3>break</span> Ordner
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Inhalt von </span>$(<span style=color:#41a1c0>$DieseDatei</span>.Name)<span style=color:#fc6a5d>: </span>$(<span style=color:#d0a8ff>Get-Content</span> <span style=color:#41a1c0>$DieseDatei</span>.FullName)<span style=color:#fc6a5d>&#34;</span> -ForegroundColor Yellow
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Als Ergebnis wird hier der übergeordnete Vorgang (das Durchlaufen der Ordner) abgebrochen, wenn eine Datei mit mehr als <code>1KB</code> Größe gefunden wird.</p><p>Ich hätte jetzt die innere Schleife auch nicht unbedingt labeln müssen, aber ich find es so besser lesbar.
Und das funktioniert natürlich auch bei tieferen Verschachtelungen als nur zwei Schleifen. <strong>Hauptsache ihr habt die Schleife gelabelt, die ihr von weiter innen aus ansprechen wollt.</strong></p><h2 id=fazit>Fazit<a hidden class=anchor aria-hidden=true href=#fazit>#</a></h2><p>Mein Fazit zu den gelabelten Schleifen, um <code>break</code> und <code>continue</code> gezielt einsetzen zu können: Ich find&rsquo;s cool und praktisch. Einige Szenarien lassen sich so viel effizienter lösen, oder überhaupt erst lösen. Aber wie so oft, wird der Code dadurch natürlich auch wieder etwas komplexer.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://diecknet.de/de/tags/powershell/>Powershell</a></li></ul><div class=share-buttons></div></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://diecknet.de/de/>diecknet</a></span>
&nbsp;|&nbsp;
<span><a href=https://diecknet.de/de/legal/>Impressum</a>
</span>&nbsp;|&nbsp;<span>
<a href=https://diecknet.de/de/privacy/>Datenschutz</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Kopieren";function s(){t.innerHTML="Kopiert!",setTimeout(()=>{t.innerHTML="Kopieren"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript>var _paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="//nc.diecknet.de/mt/",_paq.push(["setTrackerUrl",t+"mdata"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.defer=!0,e.src=t+"m.js",s.parentNode.insertBefore(e,s)}()</script><noscript><p><img src="https://nc.diecknet.de/mt/mdata?idsite=1&amp;rec=1" style=border:0 alt></p></noscript></body></html>