<div class="w3-container w3-padding w3-white">
    <h4><b>Tags</b></h4>
    <p>
      {% assign alldocs = site.posts %}
      alldocs:<br/>
      {%- for thisdoc in alldocs -%}
        - {{ thisdoc.title }} <br />
      {%- endfor -%}
      {% comment %} 
      old 
        {% assign grouptag =  alldocs | map: 'tags' | join: ','  | split: ','  | group_by: tag | sort: 'size' | reverse %}
      {% endcomment %}
      {% assign grouptag =  alldocs | map: 'tags' | join: ','  | split: ','  | group_by: tag | sort: 'size' | reverse %}
      grouptag:<br/>
      {%- for thisgrouptag in grouptag.items -%}
        - {{ thisgrouptag }} <br />
      {%- endfor -%}
      {% assign font_size_multiplicator = 26 | divided_by:grouptag[0].size %}
      {% assign grouptag =  grouptag | shuffle %}
      {%- for tag in grouptag -%}
        <a href="/tags/{{- tag.name -}}"><span class="w3-tag w3-black w3-margin-bottom" style="font-size:{{ font_size_multiplicator | times: tag.size | at_most: 48 | at_least: 15 | round}}px">&nbsp;#{{- tag.name -}}&nbsp;({{tag.size}})&nbsp;</span></a> &nbsp;
      {%- endfor -%}
    </p>
  </div>