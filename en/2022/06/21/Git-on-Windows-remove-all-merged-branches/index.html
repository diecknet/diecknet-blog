<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to remove all merged Git Branches on Windows | diecknet</title>
<meta name=keywords content="git,powershell"><meta name=description content="Here&rsquo;s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. Execute these commands on your own risk.
List all merged branches You can list all merged Git Branches by running:
1 git branch --merged Exclude current branch and &ldquo;main&rdquo; branch Then we |-pipe it into the following, to exclude the currently selected branch (marked with an asterisk *) and the main branch."><meta name=author content="Andreas Dieckmann"><link rel=canonical href=https://diecknet.de/en/2022/06/21/Git-on-Windows-remove-all-merged-branches/><link crossorigin=anonymous href=/assets/css/stylesheet.75a517428f403193483801122d6350f6956c3bb6bf5c6504311f8c24e6bab3e7.css integrity="sha256-daUXQo9AMZNIOAESLWNQ9pVsO7a/XGUEMR+MJOa6s+c=" rel="preload stylesheet" as=style><link rel=icon href=https://diecknet.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://diecknet.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://diecknet.de/favicon-32x32.png><link rel=apple-touch-icon href=https://diecknet.de/apple-touch-icon.png><link rel=mask-icon href=https://diecknet.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://diecknet.de/en/2022/06/21/Git-on-Windows-remove-all-merged-branches/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to remove all merged Git Branches on Windows"><meta property="og:description" content="Here&rsquo;s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. Execute these commands on your own risk.
List all merged branches You can list all merged Git Branches by running:
1 git branch --merged Exclude current branch and &ldquo;main&rdquo; branch Then we |-pipe it into the following, to exclude the currently selected branch (marked with an asterisk *) and the main branch."><meta property="og:type" content="article"><meta property="og:url" content="https://diecknet.de/en/2022/06/21/Git-on-Windows-remove-all-merged-branches/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-21T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-21T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to remove all merged Git Branches on Windows"><meta name=twitter:description content="Here&rsquo;s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. Execute these commands on your own risk.
List all merged branches You can list all merged Git Branches by running:
1 git branch --merged Exclude current branch and &ldquo;main&rdquo; branch Then we |-pipe it into the following, to exclude the currently selected branch (marked with an asterisk *) and the main branch."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://diecknet.de/en/posts/"},{"@type":"ListItem","position":2,"name":"How to remove all merged Git Branches on Windows","item":"https://diecknet.de/en/2022/06/21/Git-on-Windows-remove-all-merged-branches/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to remove all merged Git Branches on Windows","name":"How to remove all merged Git Branches on Windows","description":"Here\u0026rsquo;s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. Execute these commands on your own risk.\nList all merged branches You can list all merged Git Branches by running:\n1 git branch --merged Exclude current branch and \u0026ldquo;main\u0026rdquo; branch Then we |-pipe it into the following, to exclude the currently selected branch (marked with an asterisk *) and the main branch.","keywords":["git","powershell"],"articleBody":"Here’s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. Execute these commands on your own risk.\nList all merged branches You can list all merged Git Branches by running:\n1 git branch --merged Exclude current branch and “main” branch Then we |-pipe it into the following, to exclude the currently selected branch (marked with an asterisk *) and the main branch. This regex filter query does not aim to be universally good. So if you have branches that include the term main in their name, those will be excluded aswell. I didn’t care to optimize, because I don’t name my branches in such a weird way.\n1 Where-Object {$_ -notmatch \"(^\\*|main)\"} Remove each of the resulting branches We remove the branches by utilizing forEach-Object to execute git branch -d\nThe whole command to remove all merged branches WARNING: this is a destructive command!\n1 git branch --merged | Where-Object {$_ -notmatch \"(^\\*|main)\"} | forEach-Object { \u0026 git branch -d $($_.Trim()) } Alternative: Remove ALL branches except the current branch and “main” WARNING: this is a destructive command!\n1 git branch | Where-Object {$_ -notmatch \"(^\\*|main)\"} | forEach-Object { \u0026 git branch -D $($_.Trim()) } Side note Afterwards you might want to prune remote tracking branches, that don’t exist remote anymore. This is a fairly simple standard Git command:\n1 git remote prune origin ","wordCount":"248","inLanguage":"en","datePublished":"2022-06-21T00:00:00Z","dateModified":"2022-06-21T00:00:00Z","author":{"@type":"Person","name":"Andreas Dieckmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://diecknet.de/en/2022/06/21/Git-on-Windows-remove-all-merged-branches/"},"publisher":{"@type":"Organization","name":"diecknet","logo":{"@type":"ImageObject","url":"https://diecknet.de/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://diecknet.de/en/ accesskey=h title="diecknet (Alt + H)">diecknet</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://diecknet.de/de/ title=Deutsch aria-label=Deutsch>Deutsch</a></li><li><a href=https://diecknet.de/en/ title=English aria-label=English><b>English</b></a></li></ul></div></div><ul id=menu><li><a href=https://diecknet.de/en/ title=Home><span>Home</span></a></li><li><a href=https://diecknet.de/en/services/ title=Services><span>Services</span></a></li><li><a href=https://diecknet.de/en/about/ title=About><span>About</span></a></li><li><a href=https://diecknet.de/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://diecknet.de/en/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://diecknet.de/en/>Home</a>&nbsp;»&nbsp;<a href=https://diecknet.de/en/posts/>Posts</a></div><h1 class=post-title>How to remove all merged Git Branches on Windows</h1><div class=post-meta><span title='2022-06-21 00:00:00 +0000 UTC'>2022-06-21</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Andreas Dieckmann&nbsp;|&nbsp;<a href=https://github.com/diecknet/diecknet-blog/tree/main/content/en/posts/2022/2022-06-21-Git-on-Windows-remove-all-merged-branches.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#list-all-merged-branches aria-label="List all merged branches">List all merged branches</a></li><li><a href=#exclude-current-branch-and-main-branch aria-label="Exclude current branch and &amp;ldquo;main&amp;rdquo; branch">Exclude current branch and &ldquo;main&rdquo; branch</a></li><li><a href=#remove-each-of-the-resulting-branches aria-label="Remove each of the resulting branches">Remove each of the resulting branches</a></li><li><a href=#the-whole-command-to-remove-all-merged-branches aria-label="The whole command to remove all merged branches">The whole command to remove all merged branches</a></li><li><a href=#alternative-remove-all-branches-except-the-current-branch-and-main aria-label="Alternative: Remove ALL branches except the current branch and &amp;ldquo;main&amp;rdquo;">Alternative: Remove ALL branches except the current branch and &ldquo;main&rdquo;</a></li><li><a href=#side-note aria-label="Side note">Side note</a></li></ul></div></details></div><div class=post-content><p>Here&rsquo;s a quick tip on howto remove Git Branches that were already merged (thus not necessary to keep around anymore) locally on Windows, using PowerShell. Assuming that you do have Git for Windows installed. <strong>Execute these commands on your own risk.</strong></p><h2 id=list-all-merged-branches>List all merged branches<a hidden class=anchor aria-hidden=true href=#list-all-merged-branches>#</a></h2><p>You can list all merged Git Branches by running:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>git branch --merged
</span></span></code></pre></td></tr></table></div></div><h2 id=exclude-current-branch-and-main-branch>Exclude current branch and &ldquo;main&rdquo; branch<a hidden class=anchor aria-hidden=true href=#exclude-current-branch-and-main-branch>#</a></h2><p>Then we <code>|</code>-pipe it into the following, to exclude the currently selected branch (marked with an asterisk <code>*</code>) and the <code>main</code> branch. This regex filter query does not aim to be universally good. So if you have branches that include the term <code>main</code> in their name, those will be excluded aswell. I didn&rsquo;t care to optimize, because I don&rsquo;t name my branches in such a weird way.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#d0a8ff>Where-Object</span> {<span style=color:#41a1c0>$_</span> -notmatch <span style=color:#fc6a5d>&#34;(^\*|main)&#34;</span>}
</span></span></code></pre></td></tr></table></div></div><h2 id=remove-each-of-the-resulting-branches>Remove each of the resulting branches<a hidden class=anchor aria-hidden=true href=#remove-each-of-the-resulting-branches>#</a></h2><p>We remove the branches by utilizing <code>forEach-Object</code> to execute <code>git branch -d</code></p><h2 id=the-whole-command-to-remove-all-merged-branches>The whole command to remove all merged branches<a hidden class=anchor aria-hidden=true href=#the-whole-command-to-remove-all-merged-branches>#</a></h2><p><strong>WARNING:</strong> this is a destructive command!</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>git branch --merged | <span style=color:#d0a8ff>Where-Object</span> {<span style=color:#41a1c0>$_</span> -notmatch <span style=color:#fc6a5d>&#34;(^\*|main)&#34;</span>} | <span style=color:#d0a8ff>forEach-Object</span> { &amp; git branch -d $(<span style=color:#41a1c0>$_</span>.Trim()) }
</span></span></code></pre></td></tr></table></div></div><h2 id=alternative-remove-all-branches-except-the-current-branch-and-main>Alternative: Remove ALL branches except the current branch and &ldquo;main&rdquo;<a hidden class=anchor aria-hidden=true href=#alternative-remove-all-branches-except-the-current-branch-and-main>#</a></h2><p><strong>WARNING:</strong> this is a destructive command!</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>git branch | <span style=color:#d0a8ff>Where-Object</span> {<span style=color:#41a1c0>$_</span> -notmatch <span style=color:#fc6a5d>&#34;(^\*|main)&#34;</span>} | <span style=color:#d0a8ff>forEach-Object</span> { &amp; git branch -D $(<span style=color:#41a1c0>$_</span>.Trim()) }
</span></span></code></pre></td></tr></table></div></div><h2 id=side-note>Side note<a hidden class=anchor aria-hidden=true href=#side-note>#</a></h2><p>Afterwards you might want to prune remote tracking branches, that don&rsquo;t exist remote anymore. This is a fairly simple standard Git command:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>git remote prune origin
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://diecknet.de/en/tags/git/>Git</a></li><li><a href=https://diecknet.de/en/tags/powershell/>Powershell</a></li></ul><div class=share-buttons></div></footer><script src=https://giscus.diecknet.de/client.js data-repo=diecknet/diecknet-blog data-repo-id="MDEwOlJlcG9zaXRvcnkyMDkzNDUzNzM=" data-category="Blog Discussions" data-category-id=MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMyNjMwOTY0 data-mapping=specific data-term=Git-on-Windows-remove-all-merged-branches data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://diecknet.de/en/>diecknet</a></span>
&nbsp;|&nbsp;
<span><a href=https://diecknet.de/en/legal/>Imprint</a>
</span>&nbsp;|&nbsp;<span>
<a href=https://diecknet.de/en/privacy/>Privacy</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript>var _paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="//nc.diecknet.de/mt/",_paq.push(["setTrackerUrl",t+"mdata"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.defer=!0,e.src=t+"m.js",s.parentNode.insertBefore(e,s)}()</script><noscript><p><img src="https://nc.diecknet.de/mt/mdata?idsite=1&amp;rec=1" style=border:0 alt></p></noscript></body></html>