<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Migrating from 11ty to Hugo | diecknet</title>
<meta name=keywords content="static site generator,ssg,website,hugo,eleventy,11ty"><meta name=description content="I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with Terminal.css. But then I randomly stumbled over the Hugo Theme Gallery and found some beautiful themes! So I chose to use Hugo Papermod and migrate the Website to Hugo ü§ì. Since I don&rsquo;t really know JavaScript, so it doesn&rsquo;t matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great."><meta name=author content="Andreas Dieckmann"><link rel=canonical href=https://diecknet.de/en/2024/02/22/Migrating-from-11ty-to-Hugo/><link crossorigin=anonymous href=/assets/css/stylesheet.75a517428f403193483801122d6350f6956c3bb6bf5c6504311f8c24e6bab3e7.css integrity="sha256-daUXQo9AMZNIOAESLWNQ9pVsO7a/XGUEMR+MJOa6s+c=" rel="preload stylesheet" as=style><link rel=icon href=https://diecknet.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://diecknet.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://diecknet.de/favicon-32x32.png><link rel=apple-touch-icon href=https://diecknet.de/apple-touch-icon.png><link rel=mask-icon href=https://diecknet.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://diecknet.de/en/2024/02/22/Migrating-from-11ty-to-Hugo/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Migrating from 11ty to Hugo"><meta property="og:description" content="I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with Terminal.css. But then I randomly stumbled over the Hugo Theme Gallery and found some beautiful themes! So I chose to use Hugo Papermod and migrate the Website to Hugo ü§ì. Since I don&rsquo;t really know JavaScript, so it doesn&rsquo;t matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great."><meta property="og:type" content="article"><meta property="og:url" content="https://diecknet.de/en/2024/02/22/Migrating-from-11ty-to-Hugo/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2024-02-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrating from 11ty to Hugo"><meta name=twitter:description content="I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with Terminal.css. But then I randomly stumbled over the Hugo Theme Gallery and found some beautiful themes! So I chose to use Hugo Papermod and migrate the Website to Hugo ü§ì. Since I don&rsquo;t really know JavaScript, so it doesn&rsquo;t matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://diecknet.de/en/posts/"},{"@type":"ListItem","position":2,"name":"Migrating from 11ty to Hugo","item":"https://diecknet.de/en/2024/02/22/Migrating-from-11ty-to-Hugo/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Migrating from 11ty to Hugo","name":"Migrating from 11ty to Hugo","description":"I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with Terminal.css. But then I randomly stumbled over the Hugo Theme Gallery and found some beautiful themes! So I chose to use Hugo Papermod and migrate the Website to Hugo ü§ì. Since I don\u0026rsquo;t really know JavaScript, so it doesn\u0026rsquo;t matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great.","keywords":["static site generator","ssg","website","hugo","eleventy","11ty"],"articleBody":"I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with Terminal.css. But then I randomly stumbled over the Hugo Theme Gallery and found some beautiful themes! So I chose to use Hugo Papermod and migrate the Website to Hugo ü§ì. Since I don‚Äôt really know JavaScript, so it doesn‚Äôt matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great.\nI‚Äôll just ramble a bit now what I did to migrate my blog.\nMoving images from /assets/ to /static/ With 11ty I used /assets/ to store my images. With Hugo this folder is used to process certain assets. Instead there is a folder /static/. I just moved everything over and used ‚ÄúSearch and Replace‚Äù with VSCode to replace the old paths.\nConfig file format With Hugo you‚Äôre free to use either YAML, TOML or JSON for your configuration. I initially chose to use JSON for my main config file. Simply because:\nI‚Äôm a bit afraid of YAML because of the indentations and never used TOML before. A few moments later‚Ä¶ Actually I just looked up TOML and it looks neat. I rewrote my config file to TOML.\nURLs Okay. I wanted to keep my existing URLs that I used in 11ty (and some of them even back with Jekyll). Apparently the default settings omit the language code of the default language. Furthermore all my posts are in a directory structure like /content//posts//, but the actual URLs are like /////. So I had to customize the permalinks option.\nI added the following options to my Hugo config:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \"defaultContentLanguage\": \"de\", \"defaultContentLanguageInSubdir\": true, \"languages\": { \"de\": { \"contentDir\": \"content/de\", \"languageName\": \"Deutsch\", \"weight\": 10 }, \"en\": { \"contentDir\": \"content/en\", \"languageName\": \"English\", \"weight\": 20 } }, \"permalinks\": { \"posts\": \"/:year/:month/:day/:slug/\" }, Adjusting Frontmatter for the Slug/Path Problem: The URLs of the posts were still wrong. That‚Äôs because the complete slug-part of my .md-files contains the date. Theoretically I could change the filenames, so that the URLs end up correct again. But I chose not to, because I like the simple sorted structure in the content directories.\nSolution: I used PowerShell to add a slug entry to each Frontmatter of all my posts. This is Quick and Dirty plus. No real error handling or anything, but I added a few comments.\n1 2 3 4 5 6 7 8 9 10 11 12 13 $mds=Get-ChildItem de,en -Filter *.md -Recurse # get all *.md files from the subfolders \"de\" and \"en\" of the current dir foreach($md in $mds) { # loop through all .md files $content = Get-Content -Path $md.FullName -Raw -Encoding utf8 # retrieve the content of the current file as one string (no array) # try to regex match the filename of the current file. # Using a named capture group here called \"slug\". if(($md.Name -match '^\\d{4}-\\d{2}-\\d{2}-(?.*)\\.md$') -eq $false) { Write-Host \"Error at $($md.FullName)\" -ForegroundColor \"red\" } else { # if successfully regex matched: do another regex, but this time replace the first occurence of \"---\" with \"---\" and append the slug field. Set-Content -Path $md.FullName -Value ([regex]'---').Replace($content,\"---`r`nslug: $($Matches.slug)\",1) -Encoding utf8 -NoNewLine } } Initially I forgot to add -NoNewLine so I had to cleanup afterwards‚Ä¶\n1 2 3 4 5 6 $mds=Get-ChildItem de,en -Filter *.md -Recurse # get all *.md files from the subfolders \"de\" and \"en\" of the current dir foreach($md in $mds) { # loop through all .md files $content = Get-Content -Path $md.FullName -Raw -Encoding utf8 # retrieve the content of the current file as one string (no array) # trim all trailing blank lines, but this time we omit -noNewLine, so we have a single newline at the end Set-Content -path ($md.FullName) -Value $content.trim() -Encoding utf8 } Capitalization Hugo converts all slugs to lower case. My URLs are mostly using Upper case, but I never really payed attention. IMO the all-lower-case urls look kinda good. But I don‚Äôt want to change all previous URLs and add forwarding rules etc.\nI added this to the Hugo config, to keep the upper and lower case as they are.\n1 \"disablePathToLower\": true But I think I will use lower case slugs from now on. I actually added lower-case slugs (or rather slug-aliases) for all old posts using a very similar PowerShell snippet. But I changed the Set-Content-Line to:\n1 2 # add alias to post Set-Content -Path $md.FullName -Value ([regex]'---').Replace($content,\"---`r`naliases:`r`n - $($Matches.slug.toLower())\",1) -Encoding utf8 -NoNewline Multilanguage - My way Running a multilanguage website is not that easy. And with every migration that I did with this blog, something changed with how the applications handled it. I want the content to be easily accessible, so - depending on the topic - I provide the content in German, English or both.\nSo my idea is:\n‚úÖ I still want to show the English posts to the German speaking visitors, if there is no German version of that post available. ‚ùå I don‚Äôt want to show German posts to English speaking visitors, if there is no English version of that post available. I assume that more German speaking folks understand English than vice-versa. Sadly there is no function for that in Hugo. But I managed to create some funky filters that achieve my goal. I put this into my layouts/_default/list.html file:\n42 43 44 45 46 47 48 49 {{- if eq .Site.Language.Lang \"==\" \"de\" }} {{- $pages = where (where site.AllPages \"Kind\" \"page\") \"Type\" \"in\" site.Params.mainSections }} {{- $pages = where (where $pages \".Language.Lang\" \"!=\" .Site.Language.Lang) \".IsTranslated\" \"!=\" true }} {{- $pages = append (where site.RegularPages \"Type\" \"in\" site.Params.mainSections) $pages }} {{- $pages = sort $pages \".Date\" \"desc\"}} {{- else }} {{- $pages = where site.RegularPages \"Type\" \"in\" site.Params.mainSections }} {{- end }} Highlight current language The only downside with this approach is, that users will change the language of the site, if they click on a post in another language. I tried to compensate that a bit, by highlighting the current language with bold text in the site header (file: layouts/partials/header.html).\n112 113 114 115 116 {{- if eq .Language.LanguageName site.Language.LanguageName }} {{- .Language.LanguageName -}} {{- else }} {{- .Language.LanguageName -}} {{- end -}} Show posts from other languages in Hugo Initially I considered this other variant, which always includes entries from other languages if there is no version in the current language. I‚Äôll keep it here, in case anyone wants to yoink it.\n42 43 44 45 46 {{- $pages = where (where site.AllPages \"Kind\" \"page\") \"Type\" \"in\" site.Params.mainSections }} {{- $pages = where $pages \"Params.hiddenInHomeList\" \"!=\" \"true\" }} {{- $pages = where (where $pages \".Language.Lang\" \"!=\" .Site.Language.Lang) \".IsTranslated\" \"!=\" true }} {{- $pages = append (where site.RegularPages \"Type\" \"in\" site.Params.mainSections) $pages }} {{- $pages = sort $pages \".Date\" \"desc\"}} Giscus for comments While I was on it, I enabled giscus for comments. I host my own instance of giscus on Vercel.\nAdded a comments: true entry to the frontmatter of all existing blog posts:\n1 2 3 4 5 6 $mds=Get-ChildItem de,en -Filter *.md -Recurse # get all *.md files from the subfolders \"de\" and \"en\" of the current dir foreach($md in $mds) { # loop through all .md files $content = Get-Content -Path $md.FullName -Raw -Encoding utf8 # retrieve the content of the current file as one string # replace the first occurence of \"---\" with \"---\" and append the comment field. Set-Content -Path $md.FullName -Value ([regex]'---').Replace($content,\"---`r`ncomments: true\",1) -Encoding utf8 -NoNewLine } This time I remembered to include -NoNewLine from the start üòõ.\nConclusion Okay, wow so this post was in my drafts for over a year. I‚Äôm not sure if I forgot to add anything in the meantime - but I think the most important stuff is in here. Anyway - so Hugo is running, no major issues. Can recommend, I‚Äôm not looking back to 11ty.\nNext plan for the site is to migrate from Cloudflare Pages to Netcup - I‚Äôm not a huge fan of how much of the Internet is controlled by Cloudflare (and other big providers).\n","wordCount":"1358","inLanguage":"en","datePublished":"2024-02-22T00:00:00Z","dateModified":"2024-02-22T00:00:00Z","author":{"@type":"Person","name":"Andreas Dieckmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://diecknet.de/en/2024/02/22/Migrating-from-11ty-to-Hugo/"},"publisher":{"@type":"Organization","name":"diecknet","logo":{"@type":"ImageObject","url":"https://diecknet.de/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://diecknet.de/en/ accesskey=h title="diecknet (Alt + H)">diecknet</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://diecknet.de/de/ title=Deutsch aria-label=Deutsch>Deutsch</a></li><li><a href=https://diecknet.de/en/ title=English aria-label=English><b>English</b></a></li></ul></div></div><ul id=menu><li><a href=https://diecknet.de/en/ title=Home><span>Home</span></a></li><li><a href=https://diecknet.de/en/services/ title=Services><span>Services</span></a></li><li><a href=https://diecknet.de/en/about/ title=About><span>About</span></a></li><li><a href=https://diecknet.de/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://diecknet.de/en/archive/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://diecknet.de/en/>Home</a>&nbsp;¬ª&nbsp;<a href=https://diecknet.de/en/posts/>Posts</a></div><h1 class=post-title>Migrating from 11ty to Hugo</h1><div class=post-meta><span title='2024-02-22 00:00:00 +0000 UTC'>2024-02-22</span>&nbsp;¬∑&nbsp;7 min&nbsp;¬∑&nbsp;Andreas Dieckmann&nbsp;|&nbsp;<a href=https://github.com/diecknet/diecknet-blog/tree/main/content/en/posts/2024/migrating-from-11ty-to-hugo.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#moving-images-from-assets-to-static aria-label="Moving images from /assets/ to /static/">Moving images from /assets/ to /static/</a></li><li><a href=#config-file-format aria-label="Config file format">Config file format</a></li><li><a href=#urls aria-label=URLs>URLs</a><ul><li><a href=#adjusting-frontmatter-for-the-slugpath aria-label="Adjusting Frontmatter for the Slug/Path">Adjusting Frontmatter for the Slug/Path</a></li><li><a href=#capitalization aria-label=Capitalization>Capitalization</a></li></ul></li><li><a href=#multilanguage---my-way aria-label="Multilanguage - My way">Multilanguage - My way</a><ul><li><a href=#highlight-current-language aria-label="Highlight current language">Highlight current language</a></li><li><a href=#show-posts-from-other-languages-in-hugo aria-label="Show posts from other languages in Hugo">Show posts from other languages in Hugo</a></li></ul></li><li><a href=#giscus-for-comments aria-label="Giscus for comments">Giscus for comments</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>I recently upgraded this website to 11ty v2.0, but I needed more change. Initially I just wanted to create a basic Design with <a href=https://github.com/Gioni06/terminal.css target=_blank>Terminal.css</a>. But then I randomly stumbled over the <a href=https://themes.gohugo.io/ target=_blank>Hugo Theme Gallery</a> and found some beautiful themes! So I chose to use <a href=https://github.com/adityatelange/hugo-PaperMod/ target=_blank>Hugo Papermod</a> and migrate the Website to Hugo ü§ì. Since I don&rsquo;t <em>really</em> know JavaScript, so it doesn&rsquo;t matter for me that Hugo uses Go instead. I never used Go as a programming language, but it sounds great.<br>I&rsquo;ll just ramble a bit now what I did to migrate my blog.</p><h2 id=moving-images-from-assets-to-static>Moving images from /assets/ to /static/<a hidden class=anchor aria-hidden=true href=#moving-images-from-assets-to-static>#</a></h2><p>With 11ty I used <code>/assets/</code> to store my images. With Hugo this folder is used to process certain assets. Instead there is a folder <code>/static/</code>. I just moved everything over and used &ldquo;Search and Replace&rdquo; with VSCode to replace the old paths.</p><h2 id=config-file-format>Config file format<a hidden class=anchor aria-hidden=true href=#config-file-format>#</a></h2><p>With Hugo you&rsquo;re free to use either YAML, TOML or JSON for your configuration. I initially chose to use JSON for my main config file. Simply because:</p><ul><li>I&rsquo;m a bit afraid of YAML because of the indentations</li><li>and never used TOML before.</li></ul><p><em>A few moments later&mldr;</em> Actually <a href=https://en.wikipedia.org/wiki/TOML target=_blank>I just looked up TOML and it looks neat.</a> I rewrote my config file to TOML.</p><h2 id=urls>URLs<a hidden class=anchor aria-hidden=true href=#urls>#</a></h2><p>Okay. I wanted to keep my existing URLs that I used in 11ty (and some of them even back with Jekyll).
Apparently the default settings omit the language code of the default language. Furthermore all my posts are in a directory structure like <code>/content/&lt;language-code>/posts/&lt;year>/</code>, but the actual URLs are like <code>/&lt;languagecode>/&lt;year>/&lt;month>/&lt;day>/</code>. So I had to customize the permalinks option.</p><p>I added the following options to my Hugo config:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#fc6a5d>&#34;defaultContentLanguage&#34;</span><span style=color:#960050>:</span> <span style=color:#fc6a5d>&#34;de&#34;</span><span style=color:#960050>,</span>
</span></span><span style=display:flex><span><span style=color:#fc6a5d>&#34;defaultContentLanguageInSubdir&#34;</span><span style=color:#960050>:</span> <span style=color:#fc5fa3>true</span><span style=color:#960050>,</span>
</span></span><span style=display:flex><span><span style=color:#fc6a5d>&#34;languages&#34;</span><span style=color:#960050>:</span> {
</span></span><span style=display:flex><span>    &#34;de&#34;: {
</span></span><span style=display:flex><span>        &#34;contentDir&#34;: <span style=color:#fc6a5d>&#34;content/de&#34;</span>,
</span></span><span style=display:flex><span>        &#34;languageName&#34;: <span style=color:#fc6a5d>&#34;Deutsch&#34;</span>,
</span></span><span style=display:flex><span>        &#34;weight&#34;: <span style=color:#d0bf69>10</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    &#34;en&#34;: {
</span></span><span style=display:flex><span>        &#34;contentDir&#34;: <span style=color:#fc6a5d>&#34;content/en&#34;</span>,
</span></span><span style=display:flex><span>        &#34;languageName&#34;: <span style=color:#fc6a5d>&#34;English&#34;</span>,
</span></span><span style=display:flex><span>        &#34;weight&#34;: <span style=color:#d0bf69>20</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}<span style=color:#960050>,</span>
</span></span><span style=display:flex><span><span style=color:#fc6a5d>&#34;permalinks&#34;</span><span style=color:#960050>:</span> {
</span></span><span style=display:flex><span>    &#34;posts&#34;: <span style=color:#fc6a5d>&#34;/:year/:month/:day/:slug/&#34;</span>
</span></span><span style=display:flex><span>}<span style=color:#960050>,</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=adjusting-frontmatter-for-the-slugpath>Adjusting Frontmatter for the Slug/Path<a hidden class=anchor aria-hidden=true href=#adjusting-frontmatter-for-the-slugpath>#</a></h3><p>Problem: The URLs of the posts were still wrong. That&rsquo;s because the complete <code>slug</code>-part of my .md-files contains the date. Theoretically I <em>could</em> change the filenames, so that the URLs end up correct again. But I chose not to, because I like the simple sorted structure in the content directories.</p><p>Solution: I used PowerShell to add a <code>slug</code> entry to each Frontmatter of all my posts. This is Quick and Dirty <strong>plus</strong>. No real error handling or anything, but I added a few comments.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#41a1c0>$mds</span>=<span style=color:#d0a8ff>Get-ChildItem</span> de,en -Filter *.<span style=color:#d0a8ff>md </span>-Recurse <span style=color:#6c7986># get all *.md files from the subfolders &#34;de&#34; and &#34;en&#34; of the current dir</span>
</span></span><span style=display:flex><span><span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$md</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$mds</span>) { <span style=color:#6c7986># loop through all .md files</span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$content</span> = <span style=color:#d0a8ff>Get-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Raw -Encoding utf8 <span style=color:#6c7986># retrieve the content of the current file as one string (no array)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6c7986># try to regex match the filename of the current file. </span>
</span></span><span style=display:flex><span>    <span style=color:#6c7986># Using a named capture group here called &#34;slug&#34;.</span>
</span></span><span style=display:flex><span>    <span style=color:#fc5fa3>if</span>((<span style=color:#41a1c0>$md</span>.Name -match <span style=color:#fc6a5d>&#39;^\d{4}-\d{2}-\d{2}-(?&lt;slug&gt;.*)\.md$&#39;</span>) -eq $false) { 
</span></span><span style=display:flex><span>        <span style=color:#d0a8ff>Write-Host</span> <span style=color:#fc6a5d>&#34;Error at </span>$(<span style=color:#41a1c0>$md</span>.FullName)<span style=color:#fc6a5d>&#34;</span> -ForegroundColor <span style=color:#fc6a5d>&#34;red&#34;</span>
</span></span><span style=display:flex><span>    } <span style=color:#fc5fa3>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#6c7986># if successfully regex matched: do another regex, but this time replace the first occurence of &#34;---&#34; with &#34;---&#34; and append the slug field.</span>
</span></span><span style=display:flex><span>        <span style=color:#d0a8ff>Set-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Value ([regex]<span style=color:#fc6a5d>&#39;---&#39;</span>).Replace(<span style=color:#41a1c0>$content</span>,<span style=color:#fc6a5d>&#34;---</span><span style=color:#fc6a5d>`r`n</span><span style=color:#fc6a5d>slug: </span>$(<span style=color:#41a1c0>$Matches</span>.slug)<span style=color:#fc6a5d>&#34;</span>,<span style=color:#d0bf69>1</span>) -Encoding utf8 -NoNewLine
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Initially I forgot to add <code>-NoNewLine</code> so I had to cleanup afterwards&mldr;</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ps1 data-lang=ps1><span style=display:flex><span><span style=color:#41a1c0>$mds</span>=<span style=color:#d0a8ff>Get-ChildItem</span> de,en -Filter *.<span style=color:#d0a8ff>md </span>-Recurse <span style=color:#6c7986># get all *.md files from the subfolders &#34;de&#34; and &#34;en&#34; of the current dir</span>
</span></span><span style=display:flex><span><span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$md</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$mds</span>) { <span style=color:#6c7986># loop through all .md files</span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$content</span> = <span style=color:#d0a8ff>Get-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Raw -Encoding utf8 <span style=color:#6c7986># retrieve the content of the current file as one string (no array)</span>
</span></span><span style=display:flex><span>    <span style=color:#6c7986># trim all trailing blank lines, but this time we omit -noNewLine, so we have a single newline at the end</span>
</span></span><span style=display:flex><span>    <span style=color:#d0a8ff>Set-Content</span> -path (<span style=color:#41a1c0>$md</span>.FullName) -Value <span style=color:#41a1c0>$content</span>.trim() -Encoding utf8   
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=capitalization>Capitalization<a hidden class=anchor aria-hidden=true href=#capitalization>#</a></h3><p>Hugo converts all slugs to lower case. My URLs are mostly using Upper case, but I never really payed attention. IMO the all-lower-case urls look kinda good. But I don&rsquo;t want to change all previous URLs and add forwarding rules etc.</p><p>I added this to the Hugo config, to keep the upper and lower case as they are.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#fc6a5d>&#34;disablePathToLower&#34;</span><span style=color:#960050>:</span> <span style=color:#fc5fa3>true</span>
</span></span></code></pre></td></tr></table></div></div><p>But I think I will use lower case slugs from now on. I actually added lower-case slugs (or rather slug-aliases) for all old posts using a very similar PowerShell snippet. But I changed the <code>Set-Content</code>-Line to:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ps1 data-lang=ps1><span style=display:flex><span><span style=color:#6c7986># add alias to post</span>
</span></span><span style=display:flex><span><span style=color:#d0a8ff>Set-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Value ([regex]<span style=color:#fc6a5d>&#39;---&#39;</span>).Replace(<span style=color:#41a1c0>$content</span>,<span style=color:#fc6a5d>&#34;---</span><span style=color:#fc6a5d>`r`n</span><span style=color:#fc6a5d>aliases:</span><span style=color:#fc6a5d>`r`n</span><span style=color:#fc6a5d>    - </span>$(<span style=color:#41a1c0>$Matches</span>.slug.toLower())<span style=color:#fc6a5d>&#34;</span>,<span style=color:#d0bf69>1</span>) -Encoding utf8 -NoNewline
</span></span></code></pre></td></tr></table></div></div><h2 id=multilanguage---my-way>Multilanguage - My way<a hidden class=anchor aria-hidden=true href=#multilanguage---my-way>#</a></h2><p>Running a multilanguage website is not that easy. And with every migration that I did with this blog, something changed with how the applications handled it. I want the content to be easily accessible, so - depending on the topic - I provide the content in German, English or both.<br>So my idea is:</p><ul><li>‚úÖ I still want to show the English posts to the German speaking visitors, if there is no German version of that post available.</li><li>‚ùå I don&rsquo;t want to show German posts to English speaking visitors, if there is no English version of that post available.</li></ul><p>I assume that more German speaking folks understand English than vice-versa.
Sadly there is no function for that in Hugo. But I managed to create some funky filters that achieve my goal. I put this into my <a href=https://github.com/diecknet/diecknet-blog/blob/265016c97e1861bd9e713345eba6affbc93567d4/layouts/_default/list.html#L42-L49 target=_blank>layouts/_default/list.html</a> file:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{- <span style=color:#fc5fa3>if</span> eq .Site.Language.Lang <span style=color:#fc6a5d>&#34;==&#34;</span> <span style=color:#fc6a5d>&#34;de&#34;</span> }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>where</span> (where site.AllPages <span style=color:#fc6a5d>&#34;Kind&#34;</span> <span style=color:#fc6a5d>&#34;page&#34;</span>) <span style=color:#fc6a5d>&#34;Type&#34;</span> <span style=color:#fc6a5d>&#34;in&#34;</span> site.Params.mainSections }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>where</span> (where <span style=color:#960050>$</span>pages <span style=color:#fc6a5d>&#34;.Language.Lang&#34;</span> <span style=color:#fc6a5d>&#34;!=&#34;</span> .Site.Language.Lang) <span style=color:#fc6a5d>&#34;.IsTranslated&#34;</span> <span style=color:#fc6a5d>&#34;!=&#34;</span> <span style=color:#fc5fa3>true</span> }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>append</span> (where site.RegularPages <span style=color:#fc6a5d>&#34;Type&#34;</span> <span style=color:#fc6a5d>&#34;in&#34;</span> site.Params.mainSections) <span style=color:#960050>$</span>pages }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = sort <span style=color:#960050>$</span>pages <span style=color:#fc6a5d>&#34;.Date&#34;</span> <span style=color:#fc6a5d>&#34;desc&#34;</span>}}
</span></span><span style=display:flex><span>{{- <span style=color:#fc5fa3>else</span> }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = where site.RegularPages <span style=color:#fc6a5d>&#34;Type&#34;</span> <span style=color:#fc6a5d>&#34;in&#34;</span> site.Params.mainSections }}
</span></span><span style=display:flex><span>{{- end }}
</span></span></code></pre></td></tr></table></div></div><h3 id=highlight-current-language>Highlight current language<a hidden class=anchor aria-hidden=true href=#highlight-current-language>#</a></h3><p>The only downside with this approach is, that users will change the language of the site, if they click on a post in another language. I tried to compensate that a bit, by highlighting the current language with <strong>bold text</strong> in the site header (file: layouts/partials/header.html).</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{- <span style=color:#fc5fa3>if</span> eq .Language.LanguageName site.Language.LanguageName }}
</span></span><span style=display:flex><span>    &lt;b&gt;{{- .Language.LanguageName -}}&lt;/b&gt;
</span></span><span style=display:flex><span>{{- <span style=color:#fc5fa3>else</span> }}
</span></span><span style=display:flex><span>    {{- .Language.LanguageName -}}
</span></span><span style=display:flex><span>{{- end -}}     
</span></span></code></pre></td></tr></table></div></div><h3 id=show-posts-from-other-languages-in-hugo>Show posts from other languages in Hugo<a hidden class=anchor aria-hidden=true href=#show-posts-from-other-languages-in-hugo>#</a></h3><p>Initially I considered this other variant, which always includes entries from other languages if there is no version in the current language. I&rsquo;ll keep it here, in case anyone wants to yoink it.</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>where</span> (where site.AllPages <span style=color:#fc6a5d>&#34;Kind&#34;</span> <span style=color:#fc6a5d>&#34;page&#34;</span>) <span style=color:#fc6a5d>&#34;Type&#34;</span> <span style=color:#fc6a5d>&#34;in&#34;</span> site.Params.mainSections }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = where <span style=color:#960050>$</span>pages <span style=color:#fc6a5d>&#34;Params.hiddenInHomeList&#34;</span> <span style=color:#fc6a5d>&#34;!=&#34;</span> <span style=color:#fc6a5d>&#34;true&#34;</span>  }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>where</span> (where <span style=color:#960050>$</span>pages <span style=color:#fc6a5d>&#34;.Language.Lang&#34;</span> <span style=color:#fc6a5d>&#34;!=&#34;</span> .Site.Language.Lang) <span style=color:#fc6a5d>&#34;.IsTranslated&#34;</span> <span style=color:#fc6a5d>&#34;!=&#34;</span> <span style=color:#fc5fa3>true</span> }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = <span style=color:#41a1c0>append</span> (where site.RegularPages <span style=color:#fc6a5d>&#34;Type&#34;</span> <span style=color:#fc6a5d>&#34;in&#34;</span> site.Params.mainSections) <span style=color:#960050>$</span>pages }}
</span></span><span style=display:flex><span>{{- <span style=color:#960050>$</span>pages = sort <span style=color:#960050>$</span>pages <span style=color:#fc6a5d>&#34;.Date&#34;</span> <span style=color:#fc6a5d>&#34;desc&#34;</span>}}
</span></span></code></pre></td></tr></table></div></div><h2 id=giscus-for-comments>Giscus for comments<a hidden class=anchor aria-hidden=true href=#giscus-for-comments>#</a></h2><p>While I was on it, I enabled <a href=https://github.com/giscus/giscus target=_blank>giscus</a> for comments. I host <a href=https://github.com/diecknet/giscus target=_blank>my own instance of giscus</a> on Vercel.</p><p>Added a <code>comments: true</code> entry to the frontmatter of all existing blog posts:</p><div class=highlight><div style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ps1 data-lang=ps1><span style=display:flex><span><span style=color:#41a1c0>$mds</span>=<span style=color:#d0a8ff>Get-ChildItem</span> de,en -Filter *.<span style=color:#d0a8ff>md </span>-Recurse <span style=color:#6c7986># get all *.md files from the subfolders &#34;de&#34; and &#34;en&#34; of the current dir</span>
</span></span><span style=display:flex><span><span style=color:#fc5fa3>foreach</span>(<span style=color:#41a1c0>$md</span> <span style=color:#fc5fa3>in</span> <span style=color:#41a1c0>$mds</span>) { <span style=color:#6c7986># loop through all .md files</span>
</span></span><span style=display:flex><span>    <span style=color:#41a1c0>$content</span> = <span style=color:#d0a8ff>Get-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Raw -Encoding utf8 <span style=color:#6c7986># retrieve the content of the current file as one string </span>
</span></span><span style=display:flex><span>    <span style=color:#6c7986># replace the first occurence of &#34;---&#34; with &#34;---&#34; and append the comment field.</span>
</span></span><span style=display:flex><span>    <span style=color:#d0a8ff>Set-Content</span> -Path <span style=color:#41a1c0>$md</span>.FullName -Value ([regex]<span style=color:#fc6a5d>&#39;---&#39;</span>).Replace(<span style=color:#41a1c0>$content</span>,<span style=color:#fc6a5d>&#34;---</span><span style=color:#fc6a5d>`r`n</span><span style=color:#fc6a5d>comments: true&#34;</span>,<span style=color:#d0bf69>1</span>) -Encoding utf8 -NoNewLine   
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>This time I remembered to include <code>-NoNewLine</code> from the start üòõ.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Okay, wow so this post was in my drafts for over a year. I&rsquo;m not sure if I forgot to add anything in the meantime - but I think the most important stuff is in here. Anyway - so Hugo is running, no major issues. Can recommend, I&rsquo;m not looking back to 11ty.<br>Next plan for the site is to migrate from Cloudflare Pages to Netcup - I&rsquo;m not a huge fan of how much of the Internet is controlled by Cloudflare (and other big providers).</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://diecknet.de/en/tags/static-site-generator/>Static Site Generator</a></li><li><a href=https://diecknet.de/en/tags/ssg/>Ssg</a></li><li><a href=https://diecknet.de/en/tags/website/>Website</a></li><li><a href=https://diecknet.de/en/tags/hugo/>Hugo</a></li><li><a href=https://diecknet.de/en/tags/eleventy/>Eleventy</a></li><li><a href=https://diecknet.de/en/tags/11ty/>11ty</a></li></ul><div class=share-buttons></div></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://diecknet.de/en/>diecknet</a></span>
&nbsp;|&nbsp;
<span><a href=https://diecknet.de/en/legal/>Imprint</a>
</span>&nbsp;|&nbsp;<span>
<a href=https://diecknet.de/en/privacy/>Privacy</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript>var _paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="//nc.diecknet.de/mt/",_paq.push(["setTrackerUrl",t+"mdata"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.defer=!0,e.src=t+"m.js",s.parentNode.insertBefore(e,s)}()</script><noscript><p><img src="https://nc.diecknet.de/mt/mdata?idsite=1&amp;rec=1" style=border:0 alt></p></noscript></body></html>